<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>Node.js Evaluation Loop (NEL)</h1><p><code>NEL</code> is an <a href="https://www.npmjs.com/">npm module</a> for running
<a href="https://nodejs.org/">node.js</a> REPL sessions.</p>
<p>Please, consider this repository as an alpha release. The API is likely to
change.</p>
<h2>Install</h2><pre class="prettyprint source lang-sh"><code>npm install nel</code></pre><h2>Usage</h2><p>Example of usage taken from
<a href="https://github.com/n-riesco/ijavascript">IJavascript</a>:</p>
<pre class="prettyprint source lang-javascript"><code>var nel = require(&quot;nel&quot;);
var session = new nel.Session();

// Callback called before running the Javascript code.
var beforeRun = function (session) {
    session.executionCount++;
};
// Callback called after running the Javascript code.
var afterRun = function (session) {
    console.log(session.executionCount);
};
// Callback called only if no errors occurred.
var onSuccess = function (session) {
    console.log(session.result);
};
// Callback called only if errors occurred.
var onError = function (session) {
    console.log(session.result);
};

var task = {
    action: &quot;run&quot;,
    code: &quot;var msg = 'Hello, World!';&quot;,
    beforeRun: beforeRun,
    afterRun: afterRun,
    onSuccess: onSuccess,
    onError: onError,
};
session.run(task);
// Output:
// { mime: { 'text/plain': 'undefined' } }
// 1

task.code = &quot;msg;&quot;;
session.run(task);
// Output:
// { mime: { 'text/plain': '\'Hello, World!\'' } }
// 2

task.code = &quot;console.log(msg);&quot;;
session.run(task);
process.stdout.write(session.stdout.read());
// Output:
// { mime: { 'text/plain': 'undefined' } }
// 3
// Hello, World!

task.code = &quot;console.warn(msg);&quot;;
session.run(task);
process.stderr.write(session.stderr.read());
// Output:
// { mime: { 'text/plain': 'undefined' } }
// 4
// Hello, World!

task.code = &quot;throw new Error('This is a test!');&quot;;
session.run(task);
// Output:
// { error:
//    { ename: 'Error',
//      evalue: 'This is a test!',
//      traceback:
//       [ 'Error: This is a test!',
//         '    at evalmachine.&lt;anonymous>:1:7',
//         '    at run ([eval]:116:19)',
//         '    at onMessage ([eval]:63:41)',
//         '    at process.EventEmitter.emit (events.js:98:17)',
//         '    at handleMessage (child_process.js:318:10)',
//         '    at Pipe.channel.onread (child_process.js:345:11)' ] },
// }
// 5

task.action = &quot;inspect&quot;;
task.code = &quot;msg&quot;;
task.beforeRun = undefined;
task.afterRun = undefined;
session.run(task);
// Output:
// { string: 'Hello, World!',
//   type: 'String',
//   constructorList: [ 'String', 'Object' ],
//   length: 13,
// }

task.action = &quot;run&quot;;
task.code = &quot;var obj = {};&quot;;
task.beforeRun = beforeRun;
task.afterRun = afterRun;
session.run(task);
// Output:
// { mime: { 'text/plain': 'undefined' } }
// 6

task.action = &quot;getAllPropertyNames&quot;;
task.code = &quot;obj&quot;;
task.beforeRun = undefined;
task.afterRun = undefined;
session.run(task);
// Output:
// { names:
//    [ '__defineGetter__',
//      '__defineSetter__',
//      '__lookupGetter__',
//      '__lookupSetter__',
//      'constructor',
//      'hasOwnProperty',
//      'isPrototypeOf',
//      'propertyIsEnumerable',
//      'toLocaleString',
//      'toString',
//      'valueOf' ],
// }

task.action = &quot;run&quot;;
task.code = &quot;$$html$$ = \&quot;&lt;div style='background-color:olive;width:50px;height:50px'>&lt;/div>\&quot;;&quot;;
task.beforeRun = beforeRun;
task.afterRun = afterRun;
session.run(task);
// Output:
// { mime: { 'text/html': '&lt;div style=\'background-color:olive;width:50px;height:50px\'>&lt;/div>' } }
// 7

task.action = &quot;run&quot;;
task.code = &quot;$$svg$$ = \&quot;&lt;svg>&lt;rect width=80 height=80 style='fill: orange;'/>&lt;/svg>\&quot;;&quot;;
task.beforeRun = beforeRun;
task.afterRun = afterRun;
session.run(task);
// Output:
// { mime: { 'image/svg+xml': '&lt;svg>&lt;rect width=80 height=80 style=\'fill: orange;\'/>&lt;/svg>' } }
// 8</code></pre><h1>Contributions</h1><p>First of all, thank you for taking the time to contribute. Please, read
<a href="https://github.com/n-riesco/nel/blob/master/CONTRIBUTING.md">CONTRIBUTING.md</a>
and use the <a href="https://github.com/n-riesco/nel/issues">issue tracker</a> for
any contributions: support requests, bug reports, enhancement requests, pull
requests, ...</p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-nel.html">nel</a></li></ul><h3>Classes</h3><ul><li><a href="module-nel-Session.html">Session</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-beta1</a> on Thu May 28 2015 16:13:24 GMT+0100 (BST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>